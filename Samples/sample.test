config {
  base_url = "http://localhost:8080";
  header "Content-Type" = "application/json";
  header "X-App" = "TestLangDemo";
}

let user = "admin";
let id = 42;

TEST getUser {
  REQUEST {
    METHOD: GET
    URL: "/api/users/$id"
  }
  ASSERT {
    status == 200
  }
}

TEST createUser {
  REQUEST {
    METHOD: POST
    URL: "/api/post"
    BODY: "{\"hello\":\"world\",\"n\":123}"
  }
  ASSERT {
    status == 201
    body.message == "POST ok"
    body.received contains "programming"
    body.received contains "paradigms"
    body.received contains "assignments"
  }
}
